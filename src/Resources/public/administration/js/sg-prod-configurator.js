(this.webpackJsonp=this.webpackJsonp||[]).push([["sg-prod-configurator"],{"3v1Q":function(e,t){e.exports='{% block sg_prod_step_type_index %}\n    <sw-page class="sg-prod-step-type-index">\n        <template slot="smart-bar-actions">\n{#            <sw-button#}\n{#                variant="primary"#}\n{#                :routerLink="{ name: \'sg.prod.step.type.create\' }">#}\n{#                Create new Flow here#}\n{#            </sw-button>#}\n        </template>\n        <template #content>\n            <sw-entity-listing\n                v-if="stepTypes"\n                :items="stepTypes"\n                :repository="repository"\n                :showSelection="false"\n                :columns="columns">\n{#                detailRoute="sg.prod.step.type.detail">#}\n            </sw-entity-listing>\n        </template>\n    </sw-page>\n{% endblock %}\n'},Bmz5:function(e,t){e.exports='{%  block sw_product_detail_content_tabs_cross_selling %}\n    {%  parent %}\n    <sw-tabs-item\n        :route="{ name: \'sw.product.detail.prodConfiguration\', params: { id: $route.params.id } }"\n        title="Product Configuration">\n        Product Configuration\n    </sw-tabs-item>\n{% endblock %}\n'},"Gc+H":function(e,t){e.exports='{% block sg_prod_configuration_detail %}\n    <sw-page class="sg-prod-configuration-detail">\n        <template slot="smart-bar-header">\n            <h2>Create new configuration</h2>\n        </template>\n        <template slot="smart-bar-actions">\n\n            <sw-button\n                :routerLink="{ name: \'sg.prod.configuration.index\' }">\n                Cancel\n            </sw-button>\n\n            <sw-button-process\n                class="sw-property-detail__save-action"\n                :isLoading="isLoading"\n                :processSuccess="isSaveSuccessful"\n                :disabled="isLoading"\n                @process-finish="saveFinish"\n                variant="primary"\n                @click.prevent="onSave">\n                Save\n            </sw-button-process>\n\n        </template>\n        <template #content>\n            <sw-card-view slot="content" v-if="configuration">\n                <sw-card title="Basic Information">\n                    <sw-field\n                        label="Name"\n                        placeholder="Put the name here"\n                        v-model="configuration.name">\n                        Lorem ipsum dolor sit amet\n                    </sw-field>\n                </sw-card>\n                <sw-card title="Flow Assignment">\n                    <sw-entity-single-select\n                        entity="sg_prod_flow"\n                        v-model="configuration.flowId"\n                        placeholder="Assign Flow here">\n                    </sw-entity-single-select>\n                </sw-card>\n            </sw-card-view>\n        </template>\n\n    </sw-page>\n{% endblock %}\n'},ODiM:function(e,t){const{Component:o,Context:n}=Shopware;o.extend("sg-prod-flow-create","sg-prod-flow-detail",{methods:{loadEntityData(){this.flow=this.flowRepository.create(n.api),console.log("flow",flow)},onSave(){return console.log("save that Flow"),this.isLoading=!0,this.isSaveSuccessful=!1,this.flowRepository.save(this.flow,n.api).then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0,this.$router.push({name:"sg.prod.flow.detail",params:{id:this.flow.id}})}).catch(e=>{console.log("exception",e)})}}})},XQli:function(e,t){e.exports='{% block sg_prod_flow_index %}\n    <sw-page class="sg-prod-flow-index">\n        <template slot="smart-bar-actions">\n            <sw-button\n                variant="primary"\n                :routerLink="{ name: \'sg.prod.flow.create\' }">\n                 Create new Flow here\n            </sw-button>\n        </template>\n        <template #content>\n            <sw-entity-listing\n                v-if="flows"\n                :items="flows"\n                :repository="repository"\n                :showSelection="false"\n                :columns="columns"\n                detailRoute="sg.prod.flow.detail">\n            </sw-entity-listing>\n        </template>\n    </sw-page>\n{% endblock %}\n'},Y0Jf:function(e,t){e.exports='{% block sg_prod_flow_detail %}\n    <sw-page class="sg-prod-flow-detail">\n        <template slot="smart-bar-header">\n            <h2>Create new Flow here</h2>\n        </template>\n        <template slot="smart-bar-actions">\n\n                <sw-button\n                    :routerLink="{ name: \'sg.prod.flow.index\' }">\n                    Abbrechen\n                </sw-button>\n\n                <sw-button-process\n                    class="sw-property-detail__save-action"\n                    :isLoading="isLoading"\n                    :processSuccess="isSaveSuccessful"\n                    :disabled="isLoading"\n                    @process-finish="saveFinish"\n                    variant="primary"\n                    @click.prevent="onSave">\n                    Save\n                </sw-button-process>\n\n        </template>\n        <template #content>\n            <sw-card-view slot="content">\n                <sw-card v-if="flow" title="Basic Information">\n                    <sw-text-field\n                        label="Name"\n                        placeholder="Put the name here"\n                        v-model="flow.name">\n                    </sw-text-field>\n                </sw-card>\n                <sw-card title="Step">\n                    <sw-container columns="1fr 1fr">\n                        <sw-card-section divider="right">\n                            From Step:\n                                {#<sw-entity-single-select\n                                    entity="sg_prod_configuration"\n                                    placeholder="Select From Step">\n                                </sw-entity-single-select>#}\n                        </sw-card-section>\n                        <sw-card-section>\n                            To Step:\n                            {#<sw-entity-single-select\n                                entity="sg_prod_configuration"\n                                placeholder="Select To Step">\n                            </sw-entity-single-select>#}\n                        </sw-card-section>\n                    </sw-container>\n                    <sw-container columns="1fr 1fr">\n                        <sw-card-section divider="right">\n                        </sw-card-section>\n                        <sw-card-section>\n                            <sw-button\n                                variant="primary"\n                                @click="onAddStep">\n                                Add to Flow\n                            </sw-button>\n                        </sw-card-section>\n                    </sw-container>\n                </sw-card>\n                <sw-card title="Flow Config">\n                    <div style="height: 500px; position: relative">\n                        <div v-for="(stepNode, index) in stepNodes"\n                            :key="stepNode.id"\n                            class="stepNode"\n                            :style="stepNodePosition(stepNode, index)">\n                            <div class="stepNode-label">{{ stepNode.label }}</div>\n                            <button  @click="onAddStep(stepNode)">\n                                <sw-icon name="default-basic-plus-circle" size="24"></sw-icon>\n                            </button>\n                        </div>\n{#                        <div v-for="stepNodeRelation in stepNodeRelations" class="stepNodeRelation" :style="stepNodeRelationPosition(stepNodeRelation)"></div>#}\n                    </div>\n\n                    {#<span v-for="step in steps" :key="step.id">\n                        {{ step.label }}\n                    </span>#}\n\n                    {#<WorkflowChart :transitions=[]\n                                :states="states"\n                                @state-click="onStateClick($event)" />#}\n                </sw-card>\n\n            </sw-card-view>\n        </template>\n\n    </sw-page>\n{% endblock %}\n'},hOu5:function(e,t,o){"use strict";o.r(t);var n=o("XQli"),i=o.n(n);const{Component:s,Data:a,Context:r}=Shopware,{Criteria:l}=a;s.register("sg-prod-flow-index",{template:i.a,inject:["repositoryFactory"],data:()=>({flows:null,repository:null}),created(){this.createdComponent()},computed:{columns:()=>[{property:"name",dataIndex:"name",label:"Name",routerLink:"sg.prod.flow.detail",inlineEdit:"string",allowResize:!0,primary:!0},{property:"createdAt",dataIndex:"createdAt",label:"Created At",allowResize:!0}]},methods:{createdComponent(){this.repository=this.repositoryFactory.create("sg_prod_flow"),this.repository.search(new l,r.api).then(e=>{this.flows=e})}}});var d=o("Y0Jf"),p=o.n(d);o("hToH");const{Component:c,Context:g}=Shopware;c.register("sg-prod-flow-detail",{template:p.a,components:{},inject:["repositoryFactory"],data:()=>({isLoading:!1,isSaveSuccessful:!1,flow:null,stepNodes:[]}),computed:{flowRepository(){return this.repositoryFactory.create("sg_prod_flow")}},created(){this.createdComponent(),this.stepNodes=this.getNodes()},mounted(){const e=document.getElementById("canvas"),t=e.getContext("2d");e.width=504,e.height=738,t.fillStyle="green",t.fillRect(0,0,100,100),t.fillStyle="red",t.fillRect(0,150,100,100),t.fillStyle="yellow",t.fillRect(0,300,100,100)},methods:{createdComponent(){this.loadEntityData(),console.log("----------------------------------------------------------------------")},loadEntityData(){console.log("----------------------------------------------------------------------"),this.isLoading=!0,this.flowRepository.get(this.$route.params.id,g.api).then(e=>{this.flow=e,this.isLoading=!1}).catch(e=>{this.isLoading=!1,console.log("exception",e)})},getNodes(){return this.sortNodes([{id:"1",label:"Step One",nextNode:"2"},{id:"2",label:"Step Two",nextNode:"3"},{id:"3",label:"Step Three",nextNode:"4"},{id:"4",label:"Step Four"}])},generateUuidv4(){var e,t="";for(e=0;e<32;e+=1)switch(e){case 8:case 20:t+="-",t+=(16*Math.random()|0).toString(16);break;case 12:t+="-",t+="4";break;case 16:t+="-",t+=(4*Math.random()|8).toString(16);break;default:t+=(16*Math.random()|0).toString(16)}return t},sortNodes(e){let t=[],o={};if(e.forEach(e=>{e.hasOwnProperty("nextNode")||(o=e,t.push(o))}),!o.hasOwnProperty("id"))return console.lof("Last Node missing!"),[];for(;e.length!==t.length;)console.log("lastAdded",o),o=e.find(e=>e.nextNode===o.id),t.push(o);return console.log("sortedNodes",t),t.reverse(),t},saveFinish(){this.isSaveSuccessful=!1},onSave(){return this.isLoading=!0,this.isSaveSuccessful=!1,this.flowRepository().save(this.flow,g.api).then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0}).catch(e=>{console.log("exception",e)})},onStateClick(e){alert("Clicked on state with id: $(id)")},onAddStep(e){const t=this.generateUuidv4();e.hasOwnProperty("nextNode")?this.stepNodes.push({id:t,label:"New Mode Nr."+t,nextNode:e.nextNode}):this.stepNodes.push({id:t,label:"New Mode Nr."+t}),this.stepNodes.forEach(o=>{e===o&&(o.nextNode=t)}),this.stepNodes=this.sortNodes(this.stepNodes)},stepNodePosition:(e,t)=>(console.log("stepNode",e),{left:0,top:75*t+"px"}),stepNodeRelationPosition:e=>({left:"15px",top:75*(parseInt(e.sourceId)-1)+35+"px"})}});o("ODiM");const{Module:u}=Shopware;u.register("sg-prod-flow",{type:"plugin",name:"flow",title:"Flow",description:"Manage Product configuration flows",color:"#009bd9",routes:{index:{component:"sg-prod-flow-index",path:"index"},detail:{component:"sg-prod-flow-detail",path:"detail/:id",meta:{parentPath:"sg-prod-flow-index"}},create:{component:"sg-prod-flow-create",path:"create",meta:{parentPath:"sg-prod-flow-index"}}},navigation:[{id:"sg-prod-flow",label:"Product Flow",color:"#009bd9",path:"sg.prod.flow.index",parent:"sw-catalogue",position:100}]});var h=o("sI17"),w=o.n(h);const{Component:f,Data:m,Context:y}=Shopware,{Criteria:v}=m;f.register("sg-prod-configuration-index",{template:w.a,inject:["repositoryFactory"],data:()=>({configurations:null,repository:null}),created(){this.createdComponent()},computed:{columns:()=>[{property:"name",dataIndex:"name",label:"Name",routerLink:"sg.prod.configuration.detail",inlineEdit:"string",allowResize:!0,primary:!0},{property:"createdAt",dataIndex:"createdAt",label:"Created At",allowResize:!0}]},methods:{createdComponent(){this.repository=this.repositoryFactory.create("sg_prod_configuration"),this.repository.search(new v,y.api).then(e=>{this.configurations=e})}}});var b=o("Gc+H"),S=o.n(b);const{Component:x,Context:C}=Shopware;x.register("sg-prod-configuration-detail",{template:S.a,inject:["repositoryFactory"],data:()=>({isLoading:!1,isSaveSuccessful:!1,configuration:null}),computed:{configurationRepository(){return this.repositoryFactory.create("sg_prod_configuration")}},created(){this.loadEntityData(),console.log("----------------------------------------------------------------------")},methods:{createdComponent(){this.loadEntityData(),console.log("----------------------------------------------------------------------")},loadEntityData(){console.log("----------------------------------------------------------------------"),this.isLoading=!0,this.configurationRepository.get(this.$route.params.id,C.api).then(e=>{this.configuration=e,this.isLoading=!1}).catch(e=>{this.isLoading=!1,console.log("exception",e)})},saveFinish(){this.isSaveSuccessful=!1},onSave(){return console.log("save that configuration*****************************************************"),this.isLoading=!0,this.isSaveSuccessful=!1,this.configurationRepository().save(this.configuration,C.api).then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0,console.log("CONFIG&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&")}).catch(e=>{console.log("exception",e)})}}});o("i7QD");var N=o("Bmz5"),_=o.n(N);const{Component:k}=Shopware;k.override("sw-product-detail",{template:_.a});var L=o("yT5/"),R=o.n(L);const{mapGetters:F,mapState:P}=Shopware.Component.getComponentHelper(),{Component:A}=Shopware;A.register("sw-product-detail-prod-configuration",{template:R.a,metaInfo:()=>({title:"Product Configuration"}),computed:{...P("swProductDetail",["product"])}});const{Module:I}=Shopware;I.register("sg-prod-configuration",{type:"plugin",name:"Configuration",title:"Configuration",description:"Manage Product configurations",color:"#009bd9",routes:{index:{component:"sg-prod-configuration-index",path:"index"},detail:{component:"sg-prod-configuration-detail",path:"detail/:id",meta:{parentPath:"sg-prod-configuration-index"}},create:{component:"sg-prod-configuration-create",path:"create",meta:{parentPath:"sg-prod-configuration-index"}}},navigation:[{id:"sg-prod-configuration",label:"Product Configuration",color:"#009bd9",path:"sg.prod.configuration.index",parent:"sw-catalogue",position:110}],routeMiddleware(e,t){"sw.product.detail"===t.name&&t.children.push({name:"sw.product.detail.prodConfiguration",path:"/sw/product/detail/:id/prodConfiguration",component:"sw-product-detail-prod-configuration",meta:{parentPath:"sw.product.index"}}),e(t)}});var T=o("3v1Q"),D=o.n(T);const{Component:E,Data:M,Context:z}=Shopware,{Criteria:O}=M;E.register("sg-prod-step-type-index",{template:D.a,inject:["repositoryFactory"],data:()=>({stepTypes:null,repository:null}),created(){this.createdComponent()},computed:{columns:()=>[{property:"technicalName",dataIndex:"technicalName",label:"Technical Name",inlineEdit:"string",allowResize:!0,primary:!0},{property:"label",dataIndex:"label",label:"Label",inlineEdit:"string",allowResize:!0},{property:"template",dataIndex:"template",label:"Template",inlineEdit:"string",allowResize:!0},{property:"createdAt",dataIndex:"createdAt",label:"Created At",allowResize:!0},{property:"updatedAt",dataIndex:"updatedAt",label:"Updated At",allowResize:!0}]},methods:{createdComponent(){this.repository=this.repositoryFactory.create("sg_prod_step_type"),this.repository.search(new O,z.api).then(e=>{this.stepTypes=e})}}});const{Module:$}=Shopware;$.register("sg-prod-step-type",{type:"plugin",name:"Step Type",title:"Step Type",description:"Manage Step Types",color:"#009bd9",routes:{index:{component:"sg-prod-step-type-index",path:"index"}},navigation:[{id:"sg-prod-step-type",label:"Prod Step Type",color:"#009bd9",path:"sg.prod.step.type.index",parent:"sw-catalogue",position:120}]})},hToH:function(e,t,o){var n=o("p7yw");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,o("SZ7m").default)("38752ac0",n,!0,{})},i7QD:function(e,t){const{Component:o,Context:n}=Shopware;o.extend("sg-prod-configuration-create","sg-prod-configuration-detail",{methods:{loadEntityData(){this.configuration=this.configurationRepository.create(n.api),console.log("configuration",configuration)},onSave(){return console.log("save that configuration"),this.isLoading=!0,this.isSaveSuccessful=!1,this.configurationRepository.save(this.configuration,n.api).then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0,this.$router.push({name:"sg.prod.configuration.detail",params:{id:this.configuration.id}})}).catch(e=>{console.log("exception",e)})}}})},p7yw:function(e,t,o){},sI17:function(e,t){e.exports='{% block sg_prod_configuration_index %}\n    <sw-page class="sg-prod-configuration-index">\n        <template slot="smart-bar-actions">\n            <sw-button\n                variant="primary"\n                :routerLink="{ name: \'sg.prod.configuration.create\' }">\n                Create new Configuration\n            </sw-button>\n        </template>\n        <template #content>\n            <sw-entity-listing\n                v-if="configurations"\n                :items="configurations"\n                :repository="repository"\n                :showSelection="false"\n                :columns="columns"\n                detailRoute="sg.prod.configuration.detail">\n            </sw-entity-listing>\n        </template>\n    </sw-page>\n{% endblock %}\n'},"yT5/":function(e,t){e.exports='<sw-card title="Product Configuration">\n    <sw-entity-single-select\n        entity="sg_prod_configuration"\n        v-model="product.prodConfigurationId"\n        placeholder="Assign Configuration here">\n    </sw-entity-single-select>\n</sw-card>\n'}},[["hOu5","runtime","vendors-node"]]]);